<div class="project-list-container">
    <div class="page-header">
        <div class="header-content">
            <h1 class="page-title">Projects</h1>
            <p class="page-subtitle">Manage and track all your projects</p>
        </div>
        <button class="btn-create" (click)="onCreateProject()">
            <span class="btn-icon">‚ûï</span>
            Create Project
        </button>
    </div>

    @if (projectsResource.isLoading()){
        <app-spinner size="large" message="Loading projects..."></app-spinner>
    }

    @if (projectsResource.error() && !projectsResource.isLoading()){
    <div class="error-container">
        <div class="error-icon">‚ö†Ô∏è</div>
        <p class="error-message">Failed to load projects. Please try again.</p>
        <button class="btn-retry" (click)="projectsResource.reload()">
            Try Again
        </button>
    </div>
    }

    @if (!projectsResource.isLoading() && !projectsResource.error() && projectsResource.value()?.length === 0){
    <div class="empty-container">
        <div class="empty-icon">üìÅ</div>
        <h2 class="empty-title">No Projects Yet</h2>
        <p class="empty-message">Get started by creating your first project</p>
        <button class="btn-create-empty" (click)="onCreateProject()">
            <span class="btn-icon">‚ûï</span>
            Create Your First Project
        </button>
    </div>
    }

    @if (!projectsResource.isLoading() && !projectsResource.error() && projectsResource.value() && projectsResource.value()!.length > 0){
    <div class="projects-grid">
        @for (project of projectsResource.value()!; track project.id){
        <app-project-card [project]="project" (viewDetails)="onViewDetails($event)" (edit)="onEditProject($event)"
            (delete)="onDeleteProject($event)">
        </app-project-card>
        }
    </div>
    }
</div>